<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gasolineras y Cargadores - EspaÃ±a</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.5.3/MarkerCluster.min.css"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.5.3/MarkerCluster.Default.min.css"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.5.3/leaflet.markercluster.min.js"></script>
<script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script src="https://cdn.tailwindcss.com"></script>
<style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;overflow:hidden}#map{height:100vh;width:100%;position:fixed;top:0;left:0;z-index:1}.sidebar{position:fixed;left:0;top:0;width:400px;height:100vh;background:white;box-shadow:2px 0 10px rgba(0,0,0,0.2);z-index:1000;display:flex;flex-direction:column}.comparator-panel{position:fixed;right:0;top:0;width:450px;height:100vh;background:white;box-shadow:-2px 0 10px rgba(0,0,0,0.2);z-index:1001;display:flex;flex-direction:column;transform:translateX(100%);transition:transform .3s}.comparator-panel.open{transform:translateX(0)}.sidebar-scroll{flex:1;overflow-y:auto}.sidebar-scroll::-webkit-scrollbar{width:8px}.sidebar-scroll::-webkit-scrollbar-track{background:#f1f1f1}.sidebar-scroll::-webkit-scrollbar-thumb{background:#888;border-radius:4px}.selected-for-compare{background-color:#dbeafe!important;border-left:4px solid #2563eb!important}@media(max-width:768px){.sidebar{width:100%;height:50vh;top:auto;bottom:0}.comparator-panel{width:100%;height:70vh}#map{height:50vh}}</style>
</head>
<body>
<div id="map"></div>
<div id="root"></div>
<script type="text/babel">
const{useState,useEffect}=React;let map=null,cluster=null,userMark=null;
const App=()=>{
const[gas,setGas]=useState([]);
const[elec,setElec]=useState([]);
const[items,setItems]=useState([]);
const[load,setLoad]=useState(!0);
const[err,setErr]=useState(null);
const[mode,setMode]=useState('gas');
const[fuel,setFuel]=useState('Precio Gasolina 95 E5');
const[search,setSearch]=useState('');
const[sort,setSort]=useState('price');
const[loc,setLoc]=useState(null);
const[showF,setShowF]=useState(!0);
const[prov,setProv]=useState('');
const[stats,setStats]=useState({min:0,max:0,avg:0});
const[mapOk,setMapOk]=useState(!1);
const[comp,setComp]=useState(!1);
const[sel,setSel]=useState([]);
const fuels=['Precio Gasolina 95 E5','Precio Gasolina 98 E5','Precio Gasoleo A','Precio Gasoleo B','Precio Gasoleo Premium'];
useEffect(()=>{
if(!map){
map=L.map('map').setView([40.4168,-3.7038],7);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{attribution:'Â© OpenStreetMap',maxZoom:19}).addTo(map);
cluster=L.markerClusterGroup({maxClusterRadius:50});
map.addLayer(cluster);
setTimeout(()=>{map.invalidateSize();setMapOk(!0)},200);
}
fetchGas();
fetchElec();
getLoc();
},[]);
const fetchGas=async()=>{
try{
setLoad(!0);
const r=await fetch('https://sedeaplicaciones.minetur.gob.es/ServiciosRESTCarburantes/PreciosCarburantes/EstacionesTerrestres/');
const d=await r.json();
const g=d.ListaEESSPrecio.map(s=>({
id:'g-'+s.IDEESS,
type:'gas',
name:s['RÃ³tulo']||'Sin nombre',
addr:s['DirecciÃ³n'],
town:s['Municipio'],
prov:s['Provincia'],
lat:parseFloat(s['Latitud'].replace(',','.')),
lng:parseFloat(s['Longitud (WGS84)'].replace(',','.')),
p:{
'Precio Gasolina 95 E5':parseFloat(s['Precio Gasolina 95 E5']?.replace(',','.'))||null,
'Precio Gasolina 98 E5':parseFloat(s['Precio Gasolina 98 E5']?.replace(',','.'))||null,
'Precio Gasoleo A':parseFloat(s['Precio Gasoleo A']?.replace(',','.'))||null,
'Precio Gasoleo B':parseFloat(s['Precio Gasoleo B']?.replace(',','.'))||null,
'Precio Gasoleo Premium':parseFloat(s['Precio Gasoleo Premium']?.replace(',','.'))||null
}}));
setGas(g);
setLoad(!1);
}catch(e){setErr('Error');setLoad(!1)}
};
const fetchElec=async()=>{
try{
const r=await fetch('https://api.openchargemap.io/v3/poi/?output=json&countrycode=ES&maxresults=2000');
const d=await r.json();
const e=d.map(c=>({
id:'e-'+c.ID,
type:'elec',
name:c.AddressInfo?.Title||'Cargador',
addr:c.AddressInfo?.AddressLine1||'',
town:c.AddressInfo?.Town||'',
prov:c.AddressInfo?.StateOrProvince||'',
lat:c.AddressInfo?.Latitude,
lng:c.AddressInfo?.Longitude,
op:c.OperatorInfo?.Title||'?',
conn:c.Connections||[],
cost:c.UsageCost||'?'
}));
setElec(e);
}catch(e){console.error(e)}
};
const getLoc=()=>{
if(navigator.geolocation){
navigator.geolocation.getCurrentPosition(p=>{
const l={lat:p.coords.latitude,lng:p.coords.longitude};
setLoc(l);
if(map){
map.setView([l.lat,l.lng],11);
if(userMark)userMark.remove();
const ico=L.divIcon({html:'<div style="background:#3b82f6;width:20px;height:20px;border-radius:50%;border:3px solid white;box-shadow:0 2px 4px rgba(0,0,0,0.3)"></div>',className:'',iconSize:[20,20],iconAnchor:[10,10]});
userMark=L.marker([l.lat,l.lng],{icon:ico}).bindPopup('ğŸ“ Tu ubicaciÃ³n').addTo(map);
}
});
}
};
const dist=(a,b,c,d)=>{
const R=6371,x=(c-a)*Math.PI/180,y=(d-b)*Math.PI/180,z=Math.sin(x/2)*Math.sin(x/2)+Math.cos(a*Math.PI/180)*Math.cos(c*Math.PI/180)*Math.sin(y/2)*Math.sin(y/2);
return R*2*Math.atan2(Math.sqrt(z),Math.sqrt(1-z));
};
useEffect(()=>{
if(gas.length>0){
const pr=gas.map(s=>s.p[fuel]).filter(p=>p>0);
if(pr.length>0)setStats({min:Math.min(...pr),max:Math.max(...pr),avg:pr.reduce((a,b)=>a+b,0)/pr.length});
}
},[gas,fuel]);
useEffect(()=>{
let res=[];
if(mode==='gas'||mode==='both'){
let g=[...gas];
if(search)g=g.filter(s=>s.town?.toLowerCase().includes(search.toLowerCase())||s.prov?.toLowerCase().includes(search.toLowerCase())||s.name?.toLowerCase().includes(search.toLowerCase()));
if(prov)g=g.filter(s=>s.prov===prov);
g=g.filter(s=>s.p[fuel]>0);
res=res.concat(g);
}
if(mode==='elec'||mode==='both'){
let e=[...elec];
if(search)e=e.filter(c=>c.town?.toLowerCase().includes(search.toLowerCase())||c.prov?.toLowerCase().includes(search.toLowerCase())||c.name?.toLowerCase().includes(search.toLowerCase()));
if(prov)e=e.filter(c=>c.prov===prov);
res=res.concat(e);
}
if(sort==='price'&&mode!=='elec')res.sort((a,b)=>(a.p?.[fuel]||999)-(b.p?.[fuel]||999));
else if(sort==='distance'&&loc)res=res.map(i=>({...i,distance:dist(loc.lat,loc.lng,i.lat,i.lng)})).sort((a,b)=>a.distance-b.distance);
setItems(res.slice(0,1000));
},[gas,elec,mode,search,fuel,sort,prov,loc]);
const getCol=p=>{
if(!p||!stats.min||!stats.max)return'#6b7280';
const r=stats.max-stats.min,l=stats.min+r*0.33,h=stats.min+r*0.66;
return p<=l?'#10b981':p<=h?'#f59e0b':'#ef4444';
};
useEffect(()=>{
if(!map||!cluster||!mapOk)return;
cluster.clearLayers();
items.forEach(i=>{
if(i.lat&&i.lng&&!isNaN(i.lat)&&!isNaN(i.lng)){
const isG=i.type==='gas';
const col=isG?getCol(i.p?.[fuel]):'#10b981';
const ico=L.divIcon({
html:isG?`<svg width="32" height="42"><path d="M16 0C7.2 0 0 7.2 0 16c0 11 16 26 16 26s16-15 16-26c0-8.8-7.2-16-16-16z" fill="${col}"/><circle cx="16" cy="16" r="6" fill="white"/></svg>`:`<svg width="32" height="42"><path d="M16 0C7.2 0 0 7.2 0 16c0 11 16 26 16 26s16-15 16-26c0-8.8-7.2-16-16-16z" fill="#10b981"/><path d="M12 10l8 6-8 6V10z" fill="white"/></svg>`,
className:'',iconSize:[32,42],iconAnchor:[16,42],popupAnchor:[0,-42]
});
const m=L.marker([i.lat,i.lng],{icon:ico});
if(isG){
m.bindPopup(`<div style="min-width:220px"><strong>${i.name}</strong><br/><div style="font-size:11px;color:#666;margin-top:4px">â›½ Gasolinera<br/>ğŸ“ ${i.addr}<br/>${i.town}, ${i.prov}</div><div style="margin-top:8px;padding:8px;background:${col}15;border-radius:6px"><div style="font-size:24px;font-weight:bold;color:${col}">${i.p[fuel]?.toFixed(3)} â‚¬/L</div></div>${i.distance?`<div style="font-size:11px;margin-top:4px">ğŸ“ ${i.distance.toFixed(1)} km</div>`:''}</div>`);
}else{
const cn=i.conn.slice(0,2).map(c=>`${c.ConnectionType?.Title||'?'} ${c.PowerKW||'?'}kW`).join('<br/>');
m.bindPopup(`<div style="min-width:220px"><strong>${i.name}</strong><br/><div style="font-size:11px;color:#666;margin-top:4px">ğŸ”Œ Cargador<br/>ğŸ“ ${i.addr}<br/>${i.town}, ${i.prov}</div><div style="margin-top:8px;padding:8px;background:#10b98115;border-radius:6px"><div style="font-size:11px">${cn||'Sin info'}</div><div style="font-size:11px;margin-top:4px">Op: ${i.op}</div></div>${i.distance?`<div style="font-size:11px;margin-top:4px">ğŸ“ ${i.distance.toFixed(1)} km</div>`:''}</div>`);
}
cluster.addLayer(m);
}
});
},[items,fuel,stats,mapOk,mode]);
const center=i=>{
if(map&&i.lat&&i.lng){
map.setView([i.lat,i.lng],16);
cluster.eachLayer(l=>{if(l.getLatLng().lat===i.lat&&l.getLatLng().lng===i.lng)l.openPopup()});
}
};
const nav=i=>{
const u=loc?`https://www.google.com/maps/dir/${loc.lat},${loc.lng}/${i.lat},${i.lng}`:`https://www.google.com/maps/dir/?api=1&destination=${i.lat},${i.lng}`;
window.open(u,'_blank');
};
const badge=p=>{
if(!p||!stats.min)return{t:'N/D',c:'bg-gray-100 text-gray-800'};
const r=stats.max-stats.min,l=stats.min+r*0.33,h=stats.min+r*0.66;
return p<=l?{t:'ğŸŸ¢ Bajo',c:'bg-green-100 text-green-800'}:p<=h?{t:'ğŸŸ¡ Medio',c:'bg-yellow-100 text-yellow-800'}:{t:'ğŸ”´ Alto',c:'bg-red-100 text-red-800'};
};
const togComp=()=>{if(comp)setSel([]);setComp(!comp)};
const togSel=s=>{
if(s.type!=='gas')return;
if(sel.find(x=>x.id===s.id))setSel(sel.filter(x=>x.id!==s.id));
else if(sel.length<2)setSel([...sel,s]);
else setSel([sel[1],s]);
};
const isSel=s=>sel.find(x=>x.id===s.id);
const provs=[...new Set([...gas.map(s=>s.prov),...elec.map(c=>c.prov)])].filter(Boolean).sort();
if(load)return<div className="sidebar"><div className="h-full flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100"><div className="text-center"><div className="text-6xl mb-4 animate-pulse">â›½</div><p className="text-xl text-gray-700">Cargando...</p></div></div></div>;
if(err)return<div className="sidebar"><div className="h-full flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100"><div className="bg-white p-8 rounded-lg shadow-lg text-center"><p className="text-red-600 mb-4">{err}</p><button onClick={fetchGas} className="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700">Reintentar</button></div></div></div>;
return<>
<div className="sidebar">
<div className="bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-4">
<div className="flex items-center justify-between mb-3">
<div className="flex items-center gap-2"><span className="text-2xl">â›½</span><h1 className="text-xl font-bold">EspaÃ±a</h1></div>
{mode==='gas'&&<button onClick={togComp} className={`px-3 py-1.5 rounded text-sm font-medium ${comp?'bg-white text-blue-600':'bg-blue-700 hover:bg-blue-800'}`}>{comp?'âœ“ Comparando':'âš–ï¸ Comparar'}</button>}
</div>
<div className="flex gap-2 mb-2">
<button onClick={()=>setMode('gas')} className={`flex-1 px-3 py-1.5 rounded text-sm font-medium ${mode==='gas'?'bg-white text-blue-600':'bg-blue-700 hover:bg-blue-800'}`}>â›½ Gas</button>
<button onClick={()=>setMode('elec')} className={`flex-1 px-3 py-1.5 rounded text-sm font-medium ${mode==='elec'?'bg-white text-blue-600':'bg-blue-700 hover:bg-blue-800'}`}>ğŸ”Œ Elec</button>
<button onClick={()=>setMode('both')} className={`flex-1 px-3 py-1.5 rounded text-sm font-medium ${mode==='both'?'bg-white text-blue-600':'bg-blue-700 hover:bg-blue-800'}`}>âš¡ Ambos</button>
</div>
<div className="text-sm opacity-90">{items.length} puntos</div>
{stats.min>0&&mode!=='elec'&&<div className="mt-2 text-xs opacity-90"><div>ğŸ’° {stats.min.toFixed(3)}â‚¬ - {stats.max.toFixed(3)}â‚¬</div><div>ğŸ“Š Media: {stats.avg.toFixed(3)}â‚¬/L</div></div>}
{comp&&<div className="mt-2 text-xs bg-blue-700 bg-opacity-50 p-2 rounded">â„¹ï¸ Selecciona 2 ({sel.length}/2)</div>}
</div>
<div className="p-4 border-b">
<input type="text" placeholder="ğŸ” Buscar..." value={search} onChange={e=>setSearch(e.target.value)} className="w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm mb-3"/>
<button onClick={()=>setShowF(!showF)} className="text-blue-600 text-sm font-medium mb-2">{showF?'â–²':'â–¼'} Filtros</button>
{showF&&<div className="space-y-3">
{mode!=='elec'&&<div><label className="block text-xs font-medium mb-1">Combustible</label><select value={fuel} onChange={e=>setFuel(e.target.value)} className="w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none">{fuels.map(f=><option key={f} value={f}>{f.replace('Precio ','')}</option>)}</select></div>}
<div><label className="block text-xs font-medium mb-1">Provincia</label><select value={prov} onChange={e=>setProv(e.target.value)} className="w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"><option value="">Todas</option>{provs.map(p=><option key={p} value={p}>{p}</option>)}</select></div>
<div><label className="block text-xs font-medium mb-1">Ordenar</label><select value={sort} onChange={e=>setSort(e.target.value)} className="w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"><option value="price">Precio</option>{loc&&<option value="distance">Distancia</option>}</select></div>
</div>}
</div>
{mode!=='elec'&&<div className="px-4 py-2 bg-gray-50 border-b text-xs flex gap-3"><span className="flex items-center gap-1"><span className="w-3 h-3 rounded-full bg-green-500"></span>Bajo</span><span className="flex items-center gap-1"><span className="w-3 h-3 rounded-full bg-yellow-500"></span>Medio</span><span className="flex items-center gap-1"><span className="w-3 h-3 rounded-full bg-red-500"></span>Alto</span></div>}
<div className="sidebar-scroll">
{items.map(i=>{
const isG=i.type==='gas';
const b=isG?badge(i.p?.[fuel]):{t:'ğŸ”Œ Cargador',c:'bg-green-100 text-green-800'};
const col=isG?getCol(i.p?.[fuel]):'#10b981';
const selected=isSel(i);
return<div key={i.id} onClick={()=>!comp&&center(i)} className={`p-4 border-b hover:bg-blue-50 transition ${!comp&&'cursor-pointer'} ${selected?'selected-for-compare':''}`}>
<div className="flex justify-between items-start mb-2">
<div className="flex-1 pr-2">
<div className="text-xs text-gray-500 mb-1">{isG?'â›½':'ğŸ”Œ'}</div>
<h3 className="font-semibold text-sm mb-1">{i.name}</h3>
<p className="text-xs text-gray-600">{i.town}</p>
<p className="text-xs text-gray-500">{i.prov}</p>
</div>
<div className="text-right">
{isG?<><div className="text-xl font-bold" style={{color:col}}>{i.p[fuel]?.toFixed(3)}</div><div className="text-xs text-gray-500">â‚¬/L</div></>:<div className="text-sm text-green-600 font-semibold">{i.conn[0]?.PowerKW?`${i.conn[0].PowerKW}kW`:'Cargador'}</div>}
</div>
</div>
<div className="flex items-center gap-2 mt-2">
{i.distance&&<span className="text-xs text-gray-500">ğŸ“ {i.distance.toFixed(1)} km</span>}
<span className={`text-xs px-2 py-1 rounded-full ${b.c}`}>{b.t}</span>
</div>
<div className="mt-2 flex gap-2">
{comp&&isG&&<button onClick={()=>togSel(i)} className={`flex-1 px-3 py-1.5 rounded text-xs font-medium ${selected?'bg-blue-600 text-white':'bg-gray-200 text-gray-700 hover:bg-gray-300'}`}>{selected?'âœ“ Seleccionada':'Seleccionar'}</button>}
{!comp&&loc&&<button onClick={e=>{e.stopPropagation();nav(i)}} className="flex-1 bg-blue-600 text-white px-3 py-1.5 rounded text-xs hover:bg-blue-700">ğŸ§­ Ir</button>}
</div>
</div>})}
</div>
</div>
<Comp stations={sel} fuel={fuel} loc={loc} onClose={()=>setSel([])}/>
</>;
};
const Comp=({stations,fuel,loc,onClose})=>{
const[amt,setAmt]=useState(50);
const[cons,setCons]=useState(6);
if(stations.length!==2)return null;
const[s1,s2]=stations;
const p1=s1.p[fuel],p2=s2.p[fuel];
const l1=amt/p1,l2=amt/p2;
const lDiff=Math.abs(l2-l1);
const kmDiff=lDiff/cons*100;
const sav=lDiff*Math.min(p1,p2);
const dist2=(a,b,c,d)=>{const R=6371,x=(c-a)*Math.PI/180,y=(d-b)*Math.PI/180,z=Math.sin(x/2)*Math.sin(x/2)+Math.cos(a*Math.PI/180)*Math.cos(c*Math.PI/180)*Math.sin(y/2)*Math.sin(y/2);return R*2*Math.atan2(Math.sqrt(z),Math.sqrt(1-z))};
const dBet=loc&&s1.lat&&s2.lat?Math.abs(dist2(loc.lat,loc.lng,s1.lat,s1.lng)-dist2(loc.lat,loc.lng,s2.lat,s2.lng)):0;
const extra=dBet/100*cons*Math.min(p1,p2);
const worth=sav>extra;
return<div className="comparator-panel open"><div className="bg-gradient-to-r from-purple-600 to-blue-600 text-white p-4"><div className="flex items-center justify-between mb-2"><h2 className="text-xl font-bold">âš–ï¸ Comparador</h2><button onClick={onClose} className="text-2xl hover:bg-white hover:bg-opacity-20 w-8 h-8 rounded">Ã—</button></div><p className="text-sm opacity-90">Compara y ahorra</p></div><div className="flex-1 overflow-y-auto p-4 space-y-4"><div className="bg-white rounded-lg shadow-md p-4"><h3 className="font-bold mb-3 text-gray-800">ğŸ’¶ Config</h3><div className="mb-4"><label className="block text-sm font-medium text-gray-700 mb-2">Dinero: {amt}â‚¬</label><input type="range" min="10" max="100" step="5" value={amt} onChange={e=>setAmt(Number(e.target.value))} className="w-full"/><div className="flex justify-between text-xs text-gray-500 mt-1"><span>10â‚¬</span><span>100â‚¬</span></div></div><div><label className="block text-sm font-medium text-gray-700 mb-2">Consumo: {cons} L/100km</label><input type="range" min="4" max="15" step="0.5" value={cons} onChange={e=>setCons(Number(e.target.value))} className="w-full"/><div className="flex justify-between text-xs text-gray-500 mt-1"><span>4 L</span><span>15 L</span></div></div></div><div className="grid grid-cols-2 gap-3"><div className={`bg-white rounded-lg shadow-md p-4 ${p1<p2?'ring-2 ring-green-500':''}`}><div className="text-xs font-semibold text-gray-500 mb-2">{p1<p2?'ğŸ† MÃS BARATA':'MÃS CARA'}</div><h4 className="font-bold text-sm mb-2 text-gray-800">{s1.name}</h4><div className="text-2xl font-bold text-blue-600 mb-1">{p1.toFixed(3)}â‚¬</div><div className="text-xs text-gray-500 mb-3">por litro</div><div className="space-y-2 text-sm"><div className="flex justify-between"><span className="text-gray-600">Litros:</span><span className="font-semibold">{l1.toFixed(2)} L</span></div><div className="flex justify-between"><span className="text-gray-600">AutonomÃ­a:</span><span className="font-semibold">{(l1/cons*100).toFixed(0)} km</span></div></div></div><div className={`bg-white rounded-lg shadow-md p-4 ${p2<p1?'ring-2 ring-green-500':''}`}><div className="text-xs font-semibold text-gray-500 mb-2">{p2<p1?'ğŸ† MÃS BARATA':'MÃS CARA'}</div><h4 className="font-bold text-sm mb-2 text-gray-800">{s2.name}</h4><div className="text-2xl font-bold text-blue-600 mb-1">{p2.toFixed(3)}â‚¬</div><div className="text-xs text-gray-500 mb-3">por litro</div><div className="space-y-2 text-sm"><div className="flex justify-between"><span className="text-gray-600">Litros:</span><span className="font-semibold">{l2.toFixed(2)} L</span></div><div className="flex justify-between"><span className="text-gray-600">AutonomÃ­a:</span><span className="font-semibold">{(l2/cons*100).toFixed(0)} km</span></div></div></div></div><div className="bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg shadow-lg p-4"><h3 className="font-bold mb-3 flex items-center gap-2"><span className="text-2xl">ğŸ’°</span>Diferencia</h3><div className="grid grid-cols-2 gap-4"><div><div className="text-xs opacity-90 mb-1">Litros extra</div><div className="text-2xl font-bold">{lDiff.toFixed(2)} L</div></div><div>< div className="text-xs opacity-90 mb-1">Km extra</div><div className="text-2xl font-bold">{kmDiff.toFixed(0)} km</div></div></div><div className="mt-3 pt-3 border-t border-white border-opacity-30"><div className="text-xs opacity-90 mb-1">Ahorro total</div><div className="text-3xl font-bold">{sav.toFixed(2)}â‚¬</div></div></div>{loc&&dBet>0&&<div className={rounded-lg shadow-lg p-4 ${worth?'bg-gradient-to-r from-blue-500 to-cyan-600 text-white':'bg-gradient-to-r from-orange-500 to-red-600 text-white'}}><h3 className="font-bold mb-3 flex items-center gap-2"><span className="text-2xl">ğŸ¯</span>Â¿Vale la pena?</h3><div className="space-y-2 text-sm"><div className="flex justify-between"><span className="opacity-90">Dist extra:</span><span className="font-bold">{dBet.toFixed(1)} km</span></div><div className="flex justify-between"><span className="opacity-90">Coste desvÃ­o:</span><span className="font-bold">{extra.toFixed(2)}â‚¬</span></div><div className="flex justify-between"><span className="opacity-90">Ahorro:</span><span className="font-bold">{sav.toFixed(2)}â‚¬</span></div></div><div className="mt-3 pt-3 border-t border-white border-opacity-30"><div className="text-lg font-bold text-center">{worth?<>âœ… SÃ VALE<div className="text-sm font-normal opacity-90 mt-1">Ahorras {(sav-extra).toFixed(2)}â‚¬ netos</div></>:<>â›” NO<div className="text-sm font-normal opacity-90 mt-1">Pierdes {(extra-sav).toFixed(2)}â‚¬</div></>}</div></div></div>}</div></div> }; ReactDOM.render(<App/>,document.getElementById('root')); </script>
</body> </html> ```

